/**
 * Fix Arabic text corruption in the application
 * This script fixes common corruption patterns found in Arabic text
 */

// Map of corrupted characters to correct ones
const CORRUPTION_FIXES = {
  // Common corruption patterns - updated with all found issues
  '๏ฟฝ๏ฟฝ': '',  // Remove corrupted replacement characters
  '๏ฟฝ': '',   // Remove single corruption character
  
  // Basic word fixes
  'ุช๏ฟฝ๏ฟฝููู': 'ุชุนููู',
  'ุงูุช๏ฟฝ๏ฟฝููู': 'ุงูุชุนููู',
  'ุงูุชุนู๏ฟฝ๏ฟฝู': 'ุงูุชุนููู',
  'ุท๏ฟฝ๏ฟฝุจ': 'ุทูุจ',
  'ุทู๏ฟฝ๏ฟฝ': 'ุทูุจ',
  'ุงู๏ฟฝ๏ฟฝูุจ': 'ุงูุทูุจ',
  'ุงูุชู๏ฟฝ๏ฟฝุงุฆู': 'ุงูุชููุงุฆู',
  'ุงูุช๏ฟฝ๏ฟฝูุงุฆู': 'ุงูุชููุงุฆู',
  'ุงูุชููุง๏ฟฝ๏ฟฝู': 'ุงูุชููุงุฆู',
  'ุงูุชููุงุฆ๏ฟฝ๏ฟฝ': 'ุงูุชููุงุฆู',
  'ุงููุญุณู๏ฟฝ๏ฟฝ': 'ุงููุญุณู',
  'ุงููุช๏ฟฝ๏ฟฝุฆุฌ': 'ุงููุชุงุฆุฌ',
  'ุงูู๏ฟฝ๏ฟฝุงุฆุฌ': 'ุงููุชุงุฆุฌ',
  'ุงููุชุง๏ฟฝ๏ฟฝุฌ': 'ุงููุชุงุฆุฌ',
  'ู๏ฟฝ๏ฟฝ': 'ูู',
  'ุจูุฌ๏ฟฝ๏ฟฝ๏ฟฝ๏ฟฝุญ': 'ุจูุฌุงุญ',
  'ุจูุฌ๏ฟฝ๏ฟฝุญ': 'ุจูุฌุงุญ',
  'ุจูุฌุง๏ฟฝ๏ฟฝ': 'ุจูุฌุงุญ',
  '๏ฟฝ๏ฟฝูุฌุงุญ': 'ุจูุฌุงุญ',
  '๏ฟฝ๏ฟฝุฑุถ': 'ุนุฑุถ',
  'ุนุฑ๏ฟฝ๏ฟฝ': 'ุนุฑุถ',
  'ู๏ฟฝ๏ฟฝ': 'ูู',
  '๏ฟฝ๏ฟฝู': 'ุนู',
  'ุน๏ฟฝ๏ฟฝุฏ': 'ุนุฏุฏ',
  'ุนุฏ๏ฟฝ๏ฟฝ': 'ุนุฏุฏ',
  'ู๏ฟฝ๏ฟฝูู': 'ูููู',
  'ููู๏ฟฝ๏ฟฝ': 'ูููู',
  '๏ฟฝ๏ฟฝุง': 'ูุง',
  'ุชููุงุฆู๏ฟฝ๏ฟฝุงู': 'ุชููุงุฆูุงู',
  'ุชููุงุฆ๏ฟฝ๏ฟฝุงู': 'ุชููุงุฆูุงู',
  'ุชููุงุฆูุง๏ฟฝ๏ฟฝ': 'ุชููุงุฆูุงู',
  'ุงูุญ๏ฟฝ๏ฟฝูุงุช': 'ุงูุญุงูุงุช',
  'ุงูุญุง๏ฟฝ๏ฟฝุงุช': 'ุงูุญุงูุงุช',
  'ุงูุญุงูุง๏ฟฝ๏ฟฝ': 'ุงูุญุงูุงุช',
  '๏ฟฝ๏ฟฝูุทูุจ': 'ุงูุทูุจ',
  'ุงู๏ฟฝ๏ฟฝุทูุจ': 'ุงูุทูุจ',
  'ุงูุทู๏ฟฝ๏ฟฝ': 'ุงูุทูุจ',
  'ุงูุจุญ๏ฟฝ๏ฟฝ': 'ุงูุจุญุซ',
  'ุงูุจุญุซ': 'ุงูุจุญุซ',
  'ุจุงูุณ๏ฟฝ๏ฟฝุฑูุฑ': 'ุจุงูุณุฑูุฑ',
  'ุจุงูุณุฑู๏ฟฝ๏ฟฝ': 'ุจุงูุณุฑูุฑ',
  'ุงูุช๏ฟฝ๏ฟฝุญููู': 'ุงูุชุญููู',
  'ุชุญ๏ฟฝ๏ฟฝูู': 'ุชุญููู',
  'ุชุญูู๏ฟฝ๏ฟฝ': 'ุชุญููู',
  'ุฌุง๏ฟฝ๏ฟฝู': 'ุฌุงุฑู',
  'ุฌุงุฑ๏ฟฝ๏ฟฝ': 'ุฌุงุฑู',
  'ุงูุจ๏ฟฝ๏ฟฝ๏ฟฝ๏ฟฝูุงุช': 'ุงูุจูุงูุงุช',
  'ุงูุจูุง๏ฟฝ๏ฟฝุงุช': 'ุงูุจูุงูุงุช',
  'ุงูุจูุงูุง๏ฟฝ๏ฟฝ': 'ุงูุจูุงูุงุช',
  'ุงููุท๏ฟฝ๏ฟฝุฑ': 'ุงููุทูุฑ',
  'ุงููุทู๏ฟฝ๏ฟฝ': 'ุงููุทูุฑ',
  'ุฑุฏ๏ฟฝ๏ฟฝุฏ': 'ุฑุฏูุฏ',
  'ุฑุฏู๏ฟฝ๏ฟฝ': 'ุฑุฏูุฏ',
  'ูุนููู๏ฟฝ๏ฟฝุช': 'ูุนูููุงุช',
  'ูุนูู๏ฟฝ๏ฟฝุงุช': 'ูุนูููุงุช',
  'ูุน๏ฟฝ๏ฟฝููุงุช': 'ูุนูููุงุช',
  'ูุนูููุง๏ฟฝ๏ฟฝ': 'ูุนูููุงุช',
  'ูุฎุชุต๏ฟฝ๏ฟฝุฉ': 'ูุฎุชุตุฑุฉ',
  'ูุฎุชุตุฑ๏ฟฝ๏ฟฝ': 'ูุฎุชุตุฑุฉ',
  'ุงููุน๏ฟฝ๏ฟฝููุฉ': 'ุงููุนููุฉ',
  'ุงููุนู๏ฟฝ๏ฟฝุฉ': 'ุงููุนููุฉ',
  'ุงููุนูู๏ฟฝ๏ฟฝ': 'ุงููุนููุฉ',
  'ุงู๏ฟฝ๏ฟฝุนููุฉ': 'ุงููุนููุฉ',
  'ุณุฑ๏ฟฝ๏ฟฝุน': 'ุณุฑูุน',
  'ุณุฑู๏ฟฝ๏ฟฝ': 'ุณุฑูุน',
  '๏ฟฝ๏ฟฝุฑูุน': 'ุณุฑูุน',
  'ุฌู๏ฟฝ๏ฟฝุน': 'ุฌููุน',
  'ุฌูู๏ฟฝ๏ฟฝ': 'ุฌููุน',
  'ุฌ๏ฟฝ๏ฟฝูุน': 'ุฌููุน',
  'ุงูููุง๏ฟฝ๏ฟฝุจุฉ': 'ุงูููุงุณุจุฉ',
  'ุงูููุงุณ๏ฟฝ๏ฟฝุฉ': 'ุงูููุงุณุจุฉ',
  'ุงูููุงุณุจ๏ฟฝ๏ฟฝ': 'ุงูููุงุณุจุฉ',
  'ุชู๏ฟฝ๏ฟฝุงุฆู': 'ุชููุงุฆู',
  'ุชูู๏ฟฝ๏ฟฝุฆู': 'ุชููุงุฆู',
  'ุช๏ฟฝ๏ฟฝูุงุฆู': 'ุชููุงุฆู',
  'ุงูุฃุต๏ฟฝ๏ฟฝู': 'ุงูุฃุตูู',
  'ุงูุฃุตู๏ฟฝ๏ฟฝ': 'ุงูุฃุตูู',
  'ุงู๏ฟฝ๏ฟฝุตูู': 'ุงูุฃุตูู',
  '๏ฟฝ๏ฟฝูุฑุช': 'ููุฑุช',
  'ูู๏ฟฝ๏ฟฝุช': 'ููุฑุช',
  'ุงูุณุน๏ฟฝ๏ฟฝ': 'ุงูุณ๏ฟฝ๏ฟฝุฑ',
  'ุงูุณุนุฑ': 'ุงูุณุนุฑ',
  'ุบ๏ฟฝ๏ฟฝุฑ': 'ุบูุฑ',
  'ุบู๏ฟฝ๏ฟฝ': 'ุบูุฑ',
  'ูุช๏ฟฝ๏ฟฝุญุฉ': 'ูุชุงุญุฉ',
  'ูุชุง๏ฟฝ๏ฟฝุฉ': 'ูุชุงุญุฉ',
  'ุชูุงุต๏ฟฝ๏ฟฝู': 'ุชูุงุตูู',
  'ุชูุงุตู๏ฟฝ๏ฟฝ': 'ุชูุงุตูู',
  'ุชูุงุตู๏ฟฝ๏ฟฝ': 'ุชูุงุตูู',
  'ุงูููุชุฌ๏ฟฝ๏ฟฝุช': 'ุงูููุชุฌุงุช',
  'ุงูููุชุฌุง๏ฟฝ๏ฟฝ': 'ุงูููุชุฌุงุช',
  'ููุช๏ฟฝ๏ฟฝุงุช': 'ููุชุฌุงุช',
  'ููุชุฌุง๏ฟฝ๏ฟฝ': 'ููุชุฌุงุช',
  'ุงูู๏ฟฝ๏ฟฝ': 'ุงููุฑ',
  'ูุง๏ฟฝ๏ฟฝุฐุฉ': 'ูุงูุฐุฉ',
  'ูุงูุฐ๏ฟฝ๏ฟฝ': 'ูุงูุฐุฉ',
  'ุงููุงูู๏ฟฝ๏ฟฝ': 'ุงููุงููุฉ',
  'ุงููุงู๏ฟฝ๏ฟฝุฉ': 'ุงููุงููุฉ',
  'ุงุฎุช๏ฟฝ๏ฟฝ': 'ุงุฎุชุฑ',
  'ูุชุฌ๏ฟฝ๏ฟฝ': 'ูุชุฌุฑ',
  'ุงููุชุฌ๏ฟฝ๏ฟฝ': 'ุงููุชุฌุฑ',
  'ุฅูุด๏ฟฝ๏ฟฝุก': 'ุฅูุดุงุก',
  'ุฅูุดุง๏ฟฝ๏ฟฝ': 'ุฅูุดุงุก',
  'ูุฑู๏ฟฝ๏ฟฝุถ': 'ูุฑููุถ',
  'ูุฑูู๏ฟฝ๏ฟฝ': 'ูุฑููุถ',
  '๏ฟฝ๏ฟฝ๏ฟฝ๏ฟฝ': 'ูุฑููุถ',
  'ุงูุชู๏ฟฝ๏ฟฝูู': 'ุงูุชูุณูู',
  'ุงูุชูุณู๏ฟฝ๏ฟฝ': 'ุงูุชูุณูู',
  'ุงููุฎ๏ฟฝ๏ฟฝูู': 'ุงููุฎุฒูู',
  'ุงููุฎุฒู๏ฟฝ๏ฟฝ': 'ุงููุฎุฒูู',
  'ุงูุชุญ๏ฟฝ๏ฟฝูู': 'ุงูุชุญููู',
  'ุงูุชุญู๏ฟฝ๏ฟฝู': 'ุงูุชุญููู',
  'ุงูุชุญูู๏ฟฝ๏ฟฝ': 'ุงูุชุญููู',
  'ุช๏ฟฝ๏ฟฝููู': 'ุชุญููู',
  'ุงูุชุบูู๏ฟฝ๏ฟฝ': 'ุงูุชุบููุฑ',
  'ุงูุชุบู๏ฟฝ๏ฟฝุฑ': 'ุงูุชุบููุฑ',
  'ุงูุชู๏ฟฝ๏ฟฝ๏ฟฝ๏ฟฝ': 'ุงูุชููุฑ',
  'ุงููุงุช๏ฟฝ๏ฟฝ': 'ุงููุงุชู',
  'ุงููุง๏ฟฝ๏ฟฝู': 'ุงููุงุชู',
  'ููุงุญุธ๏ฟฝ๏ฟฝุช': 'ููุงุญุธุงุช',
  'ููุงุญ๏ฟฝ๏ฟฝุงุช': 'ููุงุญุธุงุช',
  'ู๏ฟฝ๏ฟฝุงุญ๏ฟฝ๏ฟฝุงุช': 'ููุงุญุธุงุช',
  'ุญุงู๏ฟฝ๏ฟฝ': 'ุญุงูุฉ',
  'ุญุง๏ฟฝ๏ฟฝุฉ': 'ุญุงูุฉ',
  'ุญ๏ฟฝ๏ฟฝูุฉ': 'ุญุงูุฉ',
  'ููุชุฌ๏ฟฝ๏ฟฝุช': 'ููุชุฌุงุช',
  'ุฅุถุงู๏ฟฝ๏ฟฝ': 'ุฅุถุงูู',
  'ุฅุถุง๏ฟฝ๏ฟฝู': 'ุฅุถุงูู',
  
  // Service-specific fixes
  '๏ฟฝ๏ฟฝุฐู': 'ุญุฐู',
  'ุงูู๏ฟฝ๏ฟฝููุฉ': 'ุงููุฒููุฉ',
  'ูุง๏ฟฝ๏ฟฝุฏุฉ': 'ูุงุนุฏุฉ',
  'ุงูุญุฐ๏ฟฝ๏ฟฝ': 'ุงูุญุฐู',
  'ุฅ๏ฟฝ๏ฟฝุงุฏุฉ': 'ุฅุนุงุฏุฉ',
  '๏ฟฝ๏ฟฝู': 'ุชู',
  'ุงุณุชูู๏ฟฝ๏ฟฝู': 'ุงุณุชููุงู',
  'ูุท๏ฟฝ๏ฟฝุจู': 'ูุทุงุจู',
  'ูู๏ฟฝ๏ฟฝูู': 'ููุชูู',
  'ูุง๏ฟฝ๏ฟฝ': 'ูุงู',
  'ุชุญุฏู๏ฟฝ๏ฟฝ': 'ุชุญุฏูุซ',
  'ูุนุงู๏ฟฝ๏ฟฝุฉ': 'ูุนุงูุฌุฉ',
  'ุฎุท๏ฟฝ๏ฟฝ': 'ุฎุทุฃ',
  '๏ฟฝ๏ฟฝูุงู': 'ุฑูุงู',
  'ุฌ๏ฟฝ๏ฟฝูุฒ': 'ุฌุงูุฒ',
  'ุฌุง๏ฟฝ๏ฟฝุฒุฉ': 'ุฌุงูุฒุฉ',
  'ุชูุฌ๏ฟฝ๏ฟฝ': 'ุชูุฌุฏ',
  '๏ฟฝ๏ฟฝุฌุฏ': 'ูุฌุฏ',
  'ุงุฎ๏ฟฝ๏ฟฝุจุงุฑ': 'ุงุฎุชุจุงุฑ',
  'ุงูุง๏ฟฝ๏ฟฝุชุจุงุฑ': 'ุงูุงุฎุชุจุงุฑ',
  '๏ฟฝ๏ฟฝูุฑูุถ': 'ููุฑูุถ',
  'ุงู๏ฟฝ๏ฟฝุตูู': 'ุงูุฃุตูู',
  '๏ฟฝ๏ฟฝุง': 'ูุง',
  'ูุชูุฌ๏ฟฝ๏ฟฝ': 'ูุชููุฑ',
  'ูุชู๏ฟฝ๏ฟฝุฑ': 'ูุชููุฑ',
  '๏ฟฝ๏ฟฝู': 'ูู',
  'ุนู๏ฟฝ๏ฟฝ': 'ุนูู',
  'ุง๏ฟฝ๏ฟฝูุชุฌุฑ': 'ุงููุชุฌุฑ',
  '๏ฟฝ๏ฟฝุฏ๏ฟฝ๏ฟฝุฏ': 'ุฑุฏูุฏ',
  'ุน๏ฟฝ๏ฟฝูู': 'ุนููู',
  'ููุจูุงู๏ฟฝ๏ฟฝุช': 'ููุจูุงูุงุช',
  '๏ฟฝ๏ฟฝุถุงูู': 'ุฅุถุงูู',
  'ุฃ๏ฟฝ๏ฟฝู': 'ุฃูู',
  'ุงูู๏ฟฝ๏ฟฝุงุดุฑุฉ': 'ุงููุจุงุดุฑุฉ',
  'ููุช๏ฟฝ๏ฟฝ': 'ููุชุญ',
  '๏ฟฝ๏ฟฝุงูุฐุฉ': 'ูุงูุฐุฉ',
  'ุงูุชูุงุตู๏ฟฝ๏ฟฝ': 'ุงูุชูุงุตูู',
  'ูุญุฏุฉ ุชุญูู ุงููุท๏ฟฝ๏ฟฝุฑ': 'ูุญุฏุฉ ุชุญูู ุงููุทูุฑ',
  'ุฅุดุนุงุฑุงุช ๏ฟฝ๏ฟฝุฏ๏ฟฝ๏ฟฝุฏ': 'ุฅุดุนุงุฑุงุช ุฑุฏูุฏ',
  '๏ฟฝ๏ฟฝ๏ฟฝ': 'ุฌุงุฑู',
  'ุง๏ฟฝ๏ฟฝูุชุฌุฑ': 'ุงููุชุฌุฑ',
  'ุง๏ฟฝ๏ฟฝูุนููุฉ': 'ุงููุนููุฉ',
  'ุงูููุง๏ฟฝ๏ฟฝุจุฉ': 'ุงูููุงุณุจุฉ',
  'ุชุญููู ุงูุทูุจุงุช': 'ุชุญููู ุงูุทูุจุงุช'
};

export function fixArabicCorruption(text: string): string {
  if (!text || typeof text !== 'string') {
    return text;
  }

  let fixedText = text;
  
  // Apply all corruption fixes
  for (const [corrupted, fixed] of Object.entries(CORRUPTION_FIXES)) {
    // Use global replacement with case sensitivity
    const regex = new RegExp(corrupted.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'g');
    fixedText = fixedText.replace(regex, fixed);
  }

  return fixedText;
}

export function fixCorruptionInFiles() {
  console.log('๐ง Starting Arabic text corruption fix...');
  console.log('โ Arabic text corruption fixes are available');
  return CORRUPTION_FIXES;
}

// Export the fixes map for external use
export { CORRUPTION_FIXES };

// Total fixes applied counter
export const TOTAL_FIXES_APPLIED = Object.keys(CORRUPTION_FIXES).length;

console.log(`๐ Total Arabic corruption patterns available for fixing: ${TOTAL_FIXES_APPLIED}`);
